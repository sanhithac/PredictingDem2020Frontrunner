#full hillary clinton 2016
import requests
import pandas as pd

#getting data for hillary clinton 2016
def get_url (q, begin_date, end_date):
    url = ("https://api.nytimes.com/svc/search/v2/articlesearch.json?q="+q+"&facet_fields=source&facet=true&begin_date="+begin_date+"&end_date="+end_date+"&api-key=MRAJUxGvim9gZYw4sGZ0ZH9hAgLrAeDR")
    return url

r = requests.get(get_url("clinton, hillary", "20160101", "20161231"))

r= r.json()['response']['docs']

#getting abstracts for the articles where Trump is mentioned in 2016
clinton16 = ""

for i in r:
    clinton16 += i['abstract']
    
clinton16

#cleaning the text
#pip install nltk

#importing and downloading necessary libraries for cleaning the text
import nltk
nltk.download('punkt')
from nltk.tokenize import sent_tokenize
from nltk.tokenize import word_tokenize
import re
from nltk.corpus import stopwords
nltk.download('stopwords')
from nltk.stem import PorterStemmer
from nltk.tokenize import sent_tokenize, word_tokenize

#getting rid of punctuation
clinton16 = re.sub(r'[^(a-zA-Z)\s]','', clinton16)

tokenized_word=word_tokenize(clinton16)

stop_words = stopwords.words('english')
[word for word in tokenized_word if word not in stop_words]
